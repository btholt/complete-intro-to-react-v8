{"pageProps":{"post":{"attributes":{"description":"One component should do one thing. Brian shows you how to break down bigger components into smaller components."},"html":"<p>Our SearchParams component is getting pretty big and doing a lot of heavy lifting. This is against the React way: in general we want small-ish (use your best judgment but lean towards smaller when you have a choice) components that do one thing. When we start having a ballooning component like we do here, take your larger component and break it down into smaller components.</p>\n<p>In general I find two reasons to break a component into smaller components: reusability and organization. When you want to use the same component in multiple places (e.g. a button, a tool tip, etc.) then it&#39;s helpful to have one component to maintain, test, use, etc.</p>\n<p>Other times it can be useful to break concepts down into smaller concepts to make a component read better. For example, if we put all the logic for this entire page into one component, it would become pretty hard to read and manage. By breaking it down we can make each component easier to understand when you read it and thus maintain.</p>\n<p>Let&#39;s make a better display for our Pets components. Make a new file called Results.jsx.</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">Pet</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;./Pet&quot;</span>;\n\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">Results</span> = (<span class=\"hljs-params\">{ pets }</span>) =&gt; {\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&quot;search&quot;</span>&gt;</span>\n      {!pets.length ? (\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span>No Pets Found<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n      ) : (\n        pets.map((pet) =&gt; {\n          return (\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Pet</span>\n              <span class=\"hljs-attr\">animal</span>=<span class=\"hljs-string\">{pet.animal}</span>\n              <span class=\"hljs-attr\">key</span>=<span class=\"hljs-string\">{pet.id}</span>\n              <span class=\"hljs-attr\">name</span>=<span class=\"hljs-string\">{pet.name}</span>\n              <span class=\"hljs-attr\">breed</span>=<span class=\"hljs-string\">{pet.breed}</span>\n              <span class=\"hljs-attr\">images</span>=<span class=\"hljs-string\">{pet.images}</span>\n              <span class=\"hljs-attr\">location</span>=<span class=\"hljs-string\">{</span>`${<span class=\"hljs-attr\">pet.city</span>}, ${<span class=\"hljs-attr\">pet.state</span>}`}\n              <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">{pet.id}</span>\n            /&gt;</span>\n          );\n        })\n      )}\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span></span>\n  );\n};\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-title class_\">Results</span>;\n</code></pre>\n<p>Now go back to SearchParams.js and put this:</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-comment\">// at top, replace import from Pet.js</span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">Results</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&quot;./Results&quot;</span>;\n\n<span class=\"hljs-comment\">// under &lt;/form&gt;, still inside the div, replace { pets.map ... }</span>\n<span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Results</span> <span class=\"hljs-attr\">pets</span>=<span class=\"hljs-string\">{pets}</span> /&gt;</span></span>;\n</code></pre>\n<p>Now you should be able to make request and see those propagated to the DOM! Pretty great!</p>\n<p>Let&#39;s go make Pet.jsx look decent:</p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">Pet</span> = (<span class=\"hljs-params\">props</span>) =&gt; {\n  <span class=\"hljs-keyword\">const</span> { name, animal, breed, images, location, id } = props;\n\n  <span class=\"hljs-keyword\">let</span> hero = <span class=\"hljs-string\">&quot;http://pets-images.dev-apis.com/pets/none.jpg&quot;</span>;\n  <span class=\"hljs-keyword\">if</span> (images.<span class=\"hljs-property\">length</span>) {\n    hero = images[<span class=\"hljs-number\">0</span>];\n  }\n\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"language-xml\"><span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">a</span> <span class=\"hljs-attr\">href</span>=<span class=\"hljs-string\">{</span>`/<span class=\"hljs-attr\">details</span>/${<span class=\"hljs-attr\">id</span>}`} <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&quot;pet&quot;</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&quot;image-container&quot;</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">img</span> <span class=\"hljs-attr\">src</span>=<span class=\"hljs-string\">{hero}</span> <span class=\"hljs-attr\">alt</span>=<span class=\"hljs-string\">{name}</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">&quot;info&quot;</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h1</span>&gt;</span>{name}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h1</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">h2</span>&gt;</span>{`${animal} ‚Äî ${breed} ‚Äî ${location}`}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">h2</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">a</span>&gt;</span></span>\n  );\n};\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-title class_\">Pet</span>;\n</code></pre>\n<p>Looks much better! The links don&#39;t go anywhere yet but we&#39;ll get there. We don&#39;t have a good loading experience yet though. Right now we just seem unresponsive. Using a new tool to React called Suspense we can make the DOM rendering wait until we finish loading our data, show a loader, and then once it finishes we can resume rendering it.</p>\n<p>The previous way you would have done this is just keep track of a boolean loading state as a hook and then conditionally shown UI based about that boolean. <em>Now</em>, with suspense, you throw a promise from within that component and React will catch that promise and <em>suspend</em> that rendering and show a fallback while it waits for that rendering to complete. We&#39;ll see that in a bit.</p>\n<blockquote>\n<p>üèÅ <a href=\"https://github.com/btholt/citr-v8-project/tree/master/07-component-composition\">Click here to see the state of the project up until now: 07-component-composition</a></p>\n</blockquote>\n","slug":"component-composition","title":"Component Composition","section":"Core React Concepts","icon":"book","filePath":"/home/runner/work/complete-intro-to-react-v8/complete-intro-to-react-v8/lessons/04-core-react-concepts/F-component-composition.md","nextSlug":"/lessons/core-react-concepts/react-dev-tools","prevSlug":"/lessons/core-react-concepts/handling-user-input"}},"__N_SSG":true}