<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"/><link rel="icon" type="image/x-icon" href="/images/favicon.ico"/><title>Snapshots – Complete Intro to React v8</title><meta name="description" content="Come learn React from Brian Holt, a veteran React.js developer on Frontend Masters"/><meta name="og:description" content="Come learn React from Brian Holt, a veteran React.js developer on Frontend Masters"/><meta name="og:title" content="Snapshots – Complete Intro to React v8"/><meta name="og:image" content="/images/social-share-cover.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="next-head-count" content="13"/><link rel="preload" href="/_next/static/css/2804460643ba240b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2804460643ba240b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-fd82975a6094609f.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-18053c3f67c4d467.js" defer=""></script><script src="/_next/static/chunks/pages/_app-1b2d39785caff4f6.js" defer=""></script><script src="/_next/static/chunks/pages/lessons/%5Bsection%5D/%5Bslug%5D-327376b1b9678381.js" defer=""></script><script src="/_next/static/SJYJ5WD9myqUJYg-rx32J/_buildManifest.js" defer=""></script><script src="/_next/static/SJYJ5WD9myqUJYg-rx32J/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="remix-app"><header class="navbar"><h1 class="navbar-brand"><a href="/">Complete Intro to React v8</a></h1><div class="navbar-info"><a href="https://frontendmasters.com/courses/complete-react-v8/" class="cta-btn">Watch on Frontend Masters</a></div></header><div class="content-container"><div class="main"><div class="lesson-container"><div class="lesson"><div class="lesson-content"><p>I&#39;m not a fan of seeking 100% test coverage. I think it&#39;s a fool&#39;s errand and a waste of time. I&#39;d rather you write five tests that cover the most important five lines of your code than see you write one test for five less-important pieces of UI code.</p>
<p>But let&#39;s show you an easy way to cheat and get there! Let&#39;s talk about snapshot testing.</p>
<p>Snapshot tests are low confidence, low cost ways of writing tests. With more-or-less a single line of code you can assert: this code doesn&#39;t break, and it isn&#39;t changing over time.</p>
<p>Let&#39;s test Results.jsx. It&#39;s a pretty stable component that doesn&#39;t do a lot. A low cost, low confidence test could fit here. Make a file called Results.test.jsx</p>
<pre><code class="language-javascript">import { expect, test } from &quot;vitest&quot;;
import { render } from &quot;@testing-library/react&quot;;
import Results from &quot;../Results&quot;;

test(&quot;renders correctly with no pets&quot;, () =&gt; {
  const { asFragment } = render(&lt;Results pets={[]} /&gt;);
  expect(asFragment()).toMatchSnapshot();
});
</code></pre>
<p>Run this to see Vitest say it created a snapshot. Go look now at Results.test.jsx.snap to see what it created. You can see it&#39;s just rendering out what it would look like. Now if you modify Results.jsx it will fail the test. As you can see, it&#39;s a quick gut check to make sure your changes don&#39;t have cascading problems. If I modify App.jsx and it causes this to fail it means I can catch it and validate quickly. Some people don&#39;t find it useful. I&#39;m not entirely sold on it to be honest; at most these should be used very sparingly. This could be useful if you have a component that you expect to <em>never</em> change and it would be a problem if it did. Maybe a footer? I don&#39;t know. I never write these.</p>
<p>Let&#39;s add some pets and see how it does.</p>
<pre><code class="language-javascript">// import
import { StaticRouter } from &quot;react-router-dom/server&quot;;

// sample
const pets = [
  {
    id: 1,
    name: &quot;Luna&quot;,
    animal: &quot;dog&quot;,
    city: &quot;Seattle&quot;,
    state: &quot;WA&quot;,
    description:
      &quot;Luna is actually the most adorable dog in the world. Her hobbies include yelling at squirrels, aggressively napping on her owners&#39; laps, and asking to be fed two hours before IT&#39;S DAMN WELL TIME LUNA. Luna is beloved by her puppy parents and lazily resides currently in Seattle, Washington.&quot;,
    breed: &quot;Havanese&quot;,
    images: [
      &quot;http://pets-images.dev-apis.com/pets/dog25.jpg&quot;,
      &quot;http://pets-images.dev-apis.com/pets/dog26.jpg&quot;,
      &quot;http://pets-images.dev-apis.com/pets/dog27.jpg&quot;,
      &quot;http://pets-images.dev-apis.com/pets/dog28.jpg&quot;,
      &quot;http://pets-images.dev-apis.com/pets/dog29.jpg&quot;,
    ],
  },
  {
    id: 2,
    name: &quot;Charisse&quot;,
    animal: &quot;rabbit&quot;,
    city: &quot;Lexington&quot;,
    state: &quot;KY&quot;,
    description:
      &quot;Maecenas leo odio, condimentum id, luctus nec, molestie sed, justo. Pellentesque viverra pede ac diam. Cras pellentesque volutpat dui.\n\nMaecenas tristique, est et tempus semper, est quam pharetra magna, ac consequat metus sapien ut nunc. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Mauris viverra diam vitae quam. Suspendisse potenti.&quot;,
    breed: &quot;Havanese&quot;,
    images: [&quot;http://pets-images.dev-apis.com/pets/rabbit0.jpg&quot;],
  },
  {
    id: 3,
    name: &quot;Maitilde&quot;,
    animal: &quot;rabbit&quot;,
    city: &quot;Dallas&quot;,
    state: &quot;TX&quot;,
    description:
      &quot;Duis consequat dui nec nisi volutpat eleifend. Donec ut dolor. Morbi vel lectus in quam fringilla rhoncus.\n\nMauris enim leo, rhoncus sed, vestibulum sit amet, cursus id, turpis. Integer aliquet, massa id lobortis convallis, tortor risus dapibus augue, vel accumsan tellus nisi eu orci. Mauris lacinia sapien quis libero.\n\nNullam sit amet turpis elementum ligula vehicula consequat. Morbi a ipsum. Integer a nibh.&quot;,
    breed: &quot;Lab&quot;,
    images: [&quot;http://pets-images.dev-apis.com/pets/rabbit1.jpg&quot;],
  },
  {
    id: 4,
    name: &quot;Natalina&quot;,
    animal: &quot;rabbit&quot;,
    city: &quot;Tampa&quot;,
    state: &quot;FL&quot;,
    description:
      &quot;Mauris enim leo, rhoncus sed, vestibulum sit amet, cursus id, turpis. Integer aliquet, massa id lobortis convallis, tortor risus dapibus augue, vel accumsan tellus nisi eu orci. Mauris lacinia sapien quis libero.\n\nNullam sit amet turpis elementum ligula vehicula consequat. Morbi a ipsum. Integer a nibh.\n\nIn quis justo. Maecenas rhoncus aliquam lacus. Morbi quis tortor id nulla ultrices aliquet.&quot;,
    breed: &quot;Lab&quot;,
    images: [&quot;http://pets-images.dev-apis.com/pets/rabbit2.jpg&quot;],
  },
  {
    id: 5,
    name: &quot;Michail&quot;,
    animal: &quot;reptile&quot;,
    city: &quot;Tuscaloosa&quot;,
    state: &quot;AL&quot;,
    description:
      &quot;Nulla ut erat id mauris vulputate elementum. Nullam varius. Nulla facilisi.\n\nCras non velit nec nisi vulputate nonummy. Maecenas tincidunt lacus at velit. Vivamus vel nulla eget eros elementum pellentesque.\n\nQuisque porta volutpat erat. Quisque erat eros, viverra eget, congue eget, semper rutrum, nulla. Nunc purus.&quot;,
    breed: &quot;Havanese&quot;,
    images: [&quot;http://pets-images.dev-apis.com/pets/reptile1.jpg&quot;],
  },
  {
    id: 6,
    name: &quot;Gizela&quot;,
    animal: &quot;bird&quot;,
    city: &quot;Carol Stream&quot;,
    state: &quot;IL&quot;,
    description:
      &quot;Nullam sit amet turpis elementum ligula vehicula consequat. Morbi a ipsum. Integer a nibh.\n\nIn quis justo. Maecenas rhoncus aliquam lacus. Morbi quis tortor id nulla ultrices aliquet.&quot;,
    breed: &quot;Havanese&quot;,
    images: [&quot;http://pets-images.dev-apis.com/pets/bird2.jpg&quot;],
  },
  {
    id: 7,
    name: &quot;Laughton&quot;,
    animal: &quot;reptile&quot;,
    city: &quot;Bridgeport&quot;,
    state: &quot;CT&quot;,
    description:
      &quot;Cras mi pede, malesuada in, imperdiet et, commodo vulputate, justo. In blandit ultrices enim. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.&quot;,
    breed: &quot;Havanese&quot;,
    images: [&quot;http://pets-images.dev-apis.com/pets/reptile2.jpg&quot;],
  },
  {
    id: 8,
    name: &quot;Si&quot;,
    animal: &quot;dog&quot;,
    city: &quot;Charlotte&quot;,
    state: &quot;NC&quot;,
    description:
      &quot;Praesent id massa id nisl venenatis lacinia. Aenean sit amet justo. Morbi ut odio.&quot;,
    breed: &quot;Lab&quot;,
    images: [&quot;http://pets-images.dev-apis.com/pets/dog0.jpg&quot;],
  },
  {
    id: 9,
    name: &quot;Lyda&quot;,
    animal: &quot;rabbit&quot;,
    city: &quot;Springfield&quot;,
    state: &quot;IL&quot;,
    description:
      &quot;Curabitur gravida nisi at nibh. In hac habitasse platea dictumst. Aliquam augue quam, sollicitudin vitae, consectetuer eget, rutrum at, lorem.\n\nInteger tincidunt ante vel ipsum. Praesent blandit lacinia erat. Vestibulum sed magna at nunc commodo placerat.&quot;,
    breed: &quot;Lab&quot;,
    images: [&quot;http://pets-images.dev-apis.com/pets/rabbit3.jpg&quot;],
  },
  {
    id: 10,
    name: &quot;Jackquelin&quot;,
    animal: &quot;dog&quot;,
    city: &quot;Tucson&quot;,
    state: &quot;AZ&quot;,
    description:
      &quot;Donec diam neque, vestibulum eget, vulputate ut, ultrices vel, augue. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec pharetra, magna vestibulum aliquet ultrices, erat tortor sollicitudin mi, sit amet lobortis sapien sapien non mi. Integer ac neque.&quot;,
    breed: &quot;Lab&quot;,
    images: [&quot;http://pets-images.dev-apis.com/pets/dog1.jpg&quot;],
  },
];

// under other test
test(&quot;renders correctly with some pets&quot;, () =&gt; {
  const { asFragment } = render(
    &lt;StaticRouter&gt;
      &lt;Results pets={pets} /&gt;
    &lt;/StaticRouter&gt;
  );
  expect(asFragment()).toMatchSnapshot();
});
</code></pre>
<p>This works, and now you can stick with this, but here&#39;s a problem. If you look at your snapshot, it&#39;s rendering Pet components as well. Now if you modify Pet.jsx (that has its own tests already) your <em>Results.jsx</em> test is going to fail. This is misleading, nothing is wrong or different with Results.jsx. In a previous version of this class I show you how to accomplish this with react-test-renderer. However the folks at @testing-lib think shallow rendering is more harmful than helpful (I like, 75% agree) so we&#39;ll leave it out. <a href="https://frontendmasters.com/courses/intermediate-react-v4/snapshots/">Click here</a> to see me teach this previously. It&#39;s 95% the same, just uses Jest instead of Vitest.</p>
<p>Update your snapshots by either running <code>npm run test -- -u</code> or you can use the watcher to do it with either <code>u</code> to update all at once or do <code>i</code> one-by-one.</p>
<p>You should commit snapshot files to git.</p>
<p>I&#39;ll let it up to you how much you value these tests. I think they have a very limited place in UI testing but it&#39;s pretty low level of help. Frequently they become more noise than help. In any case, keep them in your toolbox, some times they can be helpful.</p>
</div><div class="lesson-links"><a href="/lessons/testing/mocks" class="prev">← Previous</a><a href="/lessons/testing/c8" class="next">Next →</a></div></div><div class="details-bg"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="154" height="154" viewBox="0 0 154 154"><defs><clipPath id="clip-path"><rect id="Rectangle_2238" data-name="Rectangle 2238" width="154" height="154" transform="translate(9467 350)" fill="#fff" stroke="#707070" stroke-width="1"></rect></clipPath><clipPath id="clip-corner-image-active"><rect width="154" height="154"></rect></clipPath></defs><g id="corner-image-active" clip-path="url(#clip-corner-image-active)"><g id="Corner-image-active-2" data-name="Corner-image-active" transform="translate(-9467 -350)" clip-path="url(#clip-path)"><path id="Subtraction_34" data-name="Subtraction 34" d="M-3857.365,1740.766h0l-7.07-7.07,12.89-12.89v14.142l-5.818,5.818Zm-14.142-14.142h0l-7.071-7.07,27.033-27.033v14.143l-19.96,19.96Zm-14.143-14.143h0l-7.07-7.069,41.175-41.175v14.142Zm-14.142-14.142h0l-7.07-7.069,55.317-55.317v14.142Zm-14.142-14.142h0l-7.07-7.069,69.459-69.459v14.142Zm-14.142-14.142h0l-7.07-7.069,76.739-76.739h6.862v7.28Zm-14.143-14.143h0l-7.07-7.069,62.6-62.6h14.142Zm-14.142-14.142h0l-7.07-7.069,48.454-48.454h14.142Zm-14.142-14.142h0l-7.07-7.069,34.312-34.312h14.142Zm-14.142-14.142h0l-7.07-7.069,20.17-20.17h14.142Zm-14.142-14.142h0l-7.071-7.071,6.027-6.027h14.144l-13.1,13.1Zm367.24-56.114v-.909l.455.455-.453.453Z" transform="translate(13472.546 -1236.766)" fill="var(--corner-fill)"></path></g></g></svg></div></div></div></div><footer class="footer"><ul class="socials"><li class="social"><a href="https://twitter.com/holtbt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="40" height="32" viewBox="0 0 40 32"><defs><clipPath id="clip-twitter-social"><rect width="40" height="32"></rect></clipPath></defs><g id="twitter-social" clip-path="url(#clip-twitter-social)"><g id="Group_269" data-name="Group 269" transform="translate(-230.23 -1140.849)"><path id="Path_419" data-name="Path 419" d="M266.12,1148.861v1.035a23.092,23.092,0,0,1-1.507,8.1,24.08,24.08,0,0,1-4.475,7.381,22.175,22.175,0,0,1-7.306,5.4,24.129,24.129,0,0,1-10,2.07,23.7,23.7,0,0,1-6.667-.945,22.83,22.83,0,0,1-5.936-2.655q.959.091,1.963.09a16.518,16.518,0,0,0,5.434-.9,17.111,17.111,0,0,0,4.749-2.52,8.275,8.275,0,0,1-4.749-1.643,7.8,7.8,0,0,1-2.877-3.983,8.268,8.268,0,0,0,1.507.135,8.58,8.58,0,0,0,2.146-.27,8.16,8.16,0,0,1-5.685-4.344,8.326,8.326,0,0,1-.89-3.578v-.135a7.775,7.775,0,0,0,3.744,1.035,8.183,8.183,0,0,1-2.671-2.9,7.817,7.817,0,0,1-.982-3.848,7.948,7.948,0,0,1,1.1-4.05,23.53,23.53,0,0,0,16.895,8.46,9.221,9.221,0,0,1-.183-1.845,7.787,7.787,0,0,1,1.1-4.05,8.216,8.216,0,0,1,2.991-2.948,7.991,7.991,0,0,1,4.087-1.1,8.184,8.184,0,0,1,5.982,2.566,16.087,16.087,0,0,0,5.205-1.98,7.784,7.784,0,0,1-1.393,2.588,8.4,8.4,0,0,1-2.215,1.913,16.856,16.856,0,0,0,4.749-1.305A17.032,17.032,0,0,1,266.12,1148.861Z" fill="var(--footer-icons)"></path></g></g></svg></a></li><li class="social"><a href="https://github.com/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-github-social"><rect width="32" height="32"></rect></clipPath></defs><g id="github-social" clip-path="url(#clip-github-social)"><g id="Group_272" data-name="Group 272" transform="translate(13522.5 -6994)"><path id="Subtraction_33" data-name="Subtraction 33" d="M-24967.5,8041a15.9,15.9,0,0,1-11.312-4.688A15.893,15.893,0,0,1-24983.5,8025a15.893,15.893,0,0,1,4.689-11.315A15.894,15.894,0,0,1-24967.5,8009a15.894,15.894,0,0,1,11.313,4.686A15.893,15.893,0,0,1-24951.5,8025a15.893,15.893,0,0,1-4.689,11.313A15.9,15.9,0,0,1-24967.5,8041Zm-3.781-4.571h0v3.918h7.895v-6.665a1.836,1.836,0,0,0-1.2-1.718c5.1-.617,7.467-2.975,7.467-7.424a7.176,7.176,0,0,0-1.637-4.728,6.74,6.74,0,0,0,.275-1.812,4.34,4.34,0,0,0-.52-2.452.574.574,0,0,0-.359-.1c-1.061,0-3.465,1.411-3.936,1.694a16.644,16.644,0,0,0-4.2-.489,16.379,16.379,0,0,0-3.969.445c-.846-.5-2.91-1.649-3.859-1.649a.566.566,0,0,0-.354.095,4.3,4.3,0,0,0-.521,2.452,6.7,6.7,0,0,0,.244,1.718,7.346,7.346,0,0,0-1.6,4.822,7.263,7.263,0,0,0,1.533,4.985c1.193,1.359,3.115,2.165,5.871,2.464a1.826,1.826,0,0,0-1.129,1.693v.5h0l-.006,0a7.121,7.121,0,0,1-2.033.363,2.608,2.608,0,0,1-.965-.158,4.438,4.438,0,0,1-1.836-1.881,2.361,2.361,0,0,0-1.248-1.091,3.472,3.472,0,0,0-1.217-.3.584.584,0,0,0-.545.224.282.282,0,0,0,.027.367,1.875,1.875,0,0,0,.447.307,4.732,4.732,0,0,1,.561.355,10.726,10.726,0,0,1,1.682,2.755c.043.092.078.163.105.217a3.876,3.876,0,0,0,2.42,1.185,6.036,6.036,0,0,0,.607.025c.875,0,1.988-.124,2-.125Z" transform="translate(11461 -1015)" fill="var(--footer-icons)"></path><g id="Ellipse_670" data-name="Ellipse 670" transform="translate(-13522.5 6994)" fill="none" stroke="var(--footer-icons)" stroke-width="1"><circle cx="16" cy="16" r="16" stroke="none"></circle><circle cx="16" cy="16" r="15.5" fill="none"></circle></g></g></g></svg></a></li><li class="social"><a href="https://linkedin.com/in/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-linkedin-social"><rect width="32" height="32"></rect></clipPath></defs><g id="linkedin-social" clip-path="url(#clip-linkedin-social)"><g id="Group_270" data-name="Group 270" transform="translate(-86.349 -633.073)"><path id="Path_375" data-name="Path 375" d="M115.789,633.073a2.324,2.324,0,0,1,1.682.676,2.194,2.194,0,0,1,.695,1.627V662.8a2.131,2.131,0,0,1-.695,1.609,2.314,2.314,0,0,1-1.646.659H88.69a2.307,2.307,0,0,1-1.646-.659,2.128,2.128,0,0,1-.695-1.609V635.376a2.19,2.19,0,0,1,.695-1.627,2.322,2.322,0,0,1,1.682-.676h27.063Zm-20.224,9.672a2.561,2.561,0,0,0,0-3.584,2.658,2.658,0,0,0-1.938-.712,2.724,2.724,0,0,0-1.957.712,2.371,2.371,0,0,0-.75,1.792,2.4,2.4,0,0,0,.731,1.792,2.605,2.605,0,0,0,1.9.713h.037A2.7,2.7,0,0,0,95.565,642.745ZM96,645.434H91.213V659.88H96Zm17.3,6.144a7.007,7.007,0,0,0-1.573-4.9,5.68,5.68,0,0,0-6.839-.769,5.663,5.663,0,0,0-1.426,1.573v-2.048H98.674q.036.841,0,7.717v6.728h4.791V651.8a3.592,3.592,0,0,1,.146-1.17,2.913,2.913,0,0,1,.878-1.206,2.429,2.429,0,0,1,1.609-.549,2.108,2.108,0,0,1,1.865.914,4.265,4.265,0,0,1,.549,2.341v7.752H113.3Z" fill="var(--footer-icons)"></path></g></g></svg></a></li><li class="social"><div class="terms"><p>Content Licensed Under CC-BY-NC-4.0</p><p>Code Samples and Excercises Licensed Under Apache 2.0</p><p>Site Designed by<!-- --> <a href="https://www.alexdanielson.com/">Alex Danielson</a></p></div></li></ul></footer></div><script async="" defer="" src="https://a.holt.courses/latest.js"></script><noscript><img src="https://a.holt.courses/noscript.gif" alt="" referrerPolicy="no-referrer-when-downgrade"/></noscript></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"attributes":{"description":""},"html":"\u003cp\u003eI\u0026#39;m not a fan of seeking 100% test coverage. I think it\u0026#39;s a fool\u0026#39;s errand and a waste of time. I\u0026#39;d rather you write five tests that cover the most important five lines of your code than see you write one test for five less-important pieces of UI code.\u003c/p\u003e\n\u003cp\u003eBut let\u0026#39;s show you an easy way to cheat and get there! Let\u0026#39;s talk about snapshot testing.\u003c/p\u003e\n\u003cp\u003eSnapshot tests are low confidence, low cost ways of writing tests. With more-or-less a single line of code you can assert: this code doesn\u0026#39;t break, and it isn\u0026#39;t changing over time.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s test Results.jsx. It\u0026#39;s a pretty stable component that doesn\u0026#39;t do a lot. A low cost, low confidence test could fit here. Make a file called Results.test.jsx\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003eimport { expect, test } from \u0026quot;vitest\u0026quot;;\nimport { render } from \u0026quot;@testing-library/react\u0026quot;;\nimport Results from \u0026quot;../Results\u0026quot;;\n\ntest(\u0026quot;renders correctly with no pets\u0026quot;, () =\u0026gt; {\n  const { asFragment } = render(\u0026lt;Results pets={[]} /\u0026gt;);\n  expect(asFragment()).toMatchSnapshot();\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eRun this to see Vitest say it created a snapshot. Go look now at Results.test.jsx.snap to see what it created. You can see it\u0026#39;s just rendering out what it would look like. Now if you modify Results.jsx it will fail the test. As you can see, it\u0026#39;s a quick gut check to make sure your changes don\u0026#39;t have cascading problems. If I modify App.jsx and it causes this to fail it means I can catch it and validate quickly. Some people don\u0026#39;t find it useful. I\u0026#39;m not entirely sold on it to be honest; at most these should be used very sparingly. This could be useful if you have a component that you expect to \u003cem\u003enever\u003c/em\u003e change and it would be a problem if it did. Maybe a footer? I don\u0026#39;t know. I never write these.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s add some pets and see how it does.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003e// import\nimport { StaticRouter } from \u0026quot;react-router-dom/server\u0026quot;;\n\n// sample\nconst pets = [\n  {\n    id: 1,\n    name: \u0026quot;Luna\u0026quot;,\n    animal: \u0026quot;dog\u0026quot;,\n    city: \u0026quot;Seattle\u0026quot;,\n    state: \u0026quot;WA\u0026quot;,\n    description:\n      \u0026quot;Luna is actually the most adorable dog in the world. Her hobbies include yelling at squirrels, aggressively napping on her owners\u0026#39; laps, and asking to be fed two hours before IT\u0026#39;S DAMN WELL TIME LUNA. Luna is beloved by her puppy parents and lazily resides currently in Seattle, Washington.\u0026quot;,\n    breed: \u0026quot;Havanese\u0026quot;,\n    images: [\n      \u0026quot;http://pets-images.dev-apis.com/pets/dog25.jpg\u0026quot;,\n      \u0026quot;http://pets-images.dev-apis.com/pets/dog26.jpg\u0026quot;,\n      \u0026quot;http://pets-images.dev-apis.com/pets/dog27.jpg\u0026quot;,\n      \u0026quot;http://pets-images.dev-apis.com/pets/dog28.jpg\u0026quot;,\n      \u0026quot;http://pets-images.dev-apis.com/pets/dog29.jpg\u0026quot;,\n    ],\n  },\n  {\n    id: 2,\n    name: \u0026quot;Charisse\u0026quot;,\n    animal: \u0026quot;rabbit\u0026quot;,\n    city: \u0026quot;Lexington\u0026quot;,\n    state: \u0026quot;KY\u0026quot;,\n    description:\n      \u0026quot;Maecenas leo odio, condimentum id, luctus nec, molestie sed, justo. Pellentesque viverra pede ac diam. Cras pellentesque volutpat dui.\\n\\nMaecenas tristique, est et tempus semper, est quam pharetra magna, ac consequat metus sapien ut nunc. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Mauris viverra diam vitae quam. Suspendisse potenti.\u0026quot;,\n    breed: \u0026quot;Havanese\u0026quot;,\n    images: [\u0026quot;http://pets-images.dev-apis.com/pets/rabbit0.jpg\u0026quot;],\n  },\n  {\n    id: 3,\n    name: \u0026quot;Maitilde\u0026quot;,\n    animal: \u0026quot;rabbit\u0026quot;,\n    city: \u0026quot;Dallas\u0026quot;,\n    state: \u0026quot;TX\u0026quot;,\n    description:\n      \u0026quot;Duis consequat dui nec nisi volutpat eleifend. Donec ut dolor. Morbi vel lectus in quam fringilla rhoncus.\\n\\nMauris enim leo, rhoncus sed, vestibulum sit amet, cursus id, turpis. Integer aliquet, massa id lobortis convallis, tortor risus dapibus augue, vel accumsan tellus nisi eu orci. Mauris lacinia sapien quis libero.\\n\\nNullam sit amet turpis elementum ligula vehicula consequat. Morbi a ipsum. Integer a nibh.\u0026quot;,\n    breed: \u0026quot;Lab\u0026quot;,\n    images: [\u0026quot;http://pets-images.dev-apis.com/pets/rabbit1.jpg\u0026quot;],\n  },\n  {\n    id: 4,\n    name: \u0026quot;Natalina\u0026quot;,\n    animal: \u0026quot;rabbit\u0026quot;,\n    city: \u0026quot;Tampa\u0026quot;,\n    state: \u0026quot;FL\u0026quot;,\n    description:\n      \u0026quot;Mauris enim leo, rhoncus sed, vestibulum sit amet, cursus id, turpis. Integer aliquet, massa id lobortis convallis, tortor risus dapibus augue, vel accumsan tellus nisi eu orci. Mauris lacinia sapien quis libero.\\n\\nNullam sit amet turpis elementum ligula vehicula consequat. Morbi a ipsum. Integer a nibh.\\n\\nIn quis justo. Maecenas rhoncus aliquam lacus. Morbi quis tortor id nulla ultrices aliquet.\u0026quot;,\n    breed: \u0026quot;Lab\u0026quot;,\n    images: [\u0026quot;http://pets-images.dev-apis.com/pets/rabbit2.jpg\u0026quot;],\n  },\n  {\n    id: 5,\n    name: \u0026quot;Michail\u0026quot;,\n    animal: \u0026quot;reptile\u0026quot;,\n    city: \u0026quot;Tuscaloosa\u0026quot;,\n    state: \u0026quot;AL\u0026quot;,\n    description:\n      \u0026quot;Nulla ut erat id mauris vulputate elementum. Nullam varius. Nulla facilisi.\\n\\nCras non velit nec nisi vulputate nonummy. Maecenas tincidunt lacus at velit. Vivamus vel nulla eget eros elementum pellentesque.\\n\\nQuisque porta volutpat erat. Quisque erat eros, viverra eget, congue eget, semper rutrum, nulla. Nunc purus.\u0026quot;,\n    breed: \u0026quot;Havanese\u0026quot;,\n    images: [\u0026quot;http://pets-images.dev-apis.com/pets/reptile1.jpg\u0026quot;],\n  },\n  {\n    id: 6,\n    name: \u0026quot;Gizela\u0026quot;,\n    animal: \u0026quot;bird\u0026quot;,\n    city: \u0026quot;Carol Stream\u0026quot;,\n    state: \u0026quot;IL\u0026quot;,\n    description:\n      \u0026quot;Nullam sit amet turpis elementum ligula vehicula consequat. Morbi a ipsum. Integer a nibh.\\n\\nIn quis justo. Maecenas rhoncus aliquam lacus. Morbi quis tortor id nulla ultrices aliquet.\u0026quot;,\n    breed: \u0026quot;Havanese\u0026quot;,\n    images: [\u0026quot;http://pets-images.dev-apis.com/pets/bird2.jpg\u0026quot;],\n  },\n  {\n    id: 7,\n    name: \u0026quot;Laughton\u0026quot;,\n    animal: \u0026quot;reptile\u0026quot;,\n    city: \u0026quot;Bridgeport\u0026quot;,\n    state: \u0026quot;CT\u0026quot;,\n    description:\n      \u0026quot;Cras mi pede, malesuada in, imperdiet et, commodo vulputate, justo. In blandit ultrices enim. Lorem ipsum dolor sit amet, consectetuer adipiscing elit.\u0026quot;,\n    breed: \u0026quot;Havanese\u0026quot;,\n    images: [\u0026quot;http://pets-images.dev-apis.com/pets/reptile2.jpg\u0026quot;],\n  },\n  {\n    id: 8,\n    name: \u0026quot;Si\u0026quot;,\n    animal: \u0026quot;dog\u0026quot;,\n    city: \u0026quot;Charlotte\u0026quot;,\n    state: \u0026quot;NC\u0026quot;,\n    description:\n      \u0026quot;Praesent id massa id nisl venenatis lacinia. Aenean sit amet justo. Morbi ut odio.\u0026quot;,\n    breed: \u0026quot;Lab\u0026quot;,\n    images: [\u0026quot;http://pets-images.dev-apis.com/pets/dog0.jpg\u0026quot;],\n  },\n  {\n    id: 9,\n    name: \u0026quot;Lyda\u0026quot;,\n    animal: \u0026quot;rabbit\u0026quot;,\n    city: \u0026quot;Springfield\u0026quot;,\n    state: \u0026quot;IL\u0026quot;,\n    description:\n      \u0026quot;Curabitur gravida nisi at nibh. In hac habitasse platea dictumst. Aliquam augue quam, sollicitudin vitae, consectetuer eget, rutrum at, lorem.\\n\\nInteger tincidunt ante vel ipsum. Praesent blandit lacinia erat. Vestibulum sed magna at nunc commodo placerat.\u0026quot;,\n    breed: \u0026quot;Lab\u0026quot;,\n    images: [\u0026quot;http://pets-images.dev-apis.com/pets/rabbit3.jpg\u0026quot;],\n  },\n  {\n    id: 10,\n    name: \u0026quot;Jackquelin\u0026quot;,\n    animal: \u0026quot;dog\u0026quot;,\n    city: \u0026quot;Tucson\u0026quot;,\n    state: \u0026quot;AZ\u0026quot;,\n    description:\n      \u0026quot;Donec diam neque, vestibulum eget, vulputate ut, ultrices vel, augue. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Donec pharetra, magna vestibulum aliquet ultrices, erat tortor sollicitudin mi, sit amet lobortis sapien sapien non mi. Integer ac neque.\u0026quot;,\n    breed: \u0026quot;Lab\u0026quot;,\n    images: [\u0026quot;http://pets-images.dev-apis.com/pets/dog1.jpg\u0026quot;],\n  },\n];\n\n// under other test\ntest(\u0026quot;renders correctly with some pets\u0026quot;, () =\u0026gt; {\n  const { asFragment } = render(\n    \u0026lt;StaticRouter\u0026gt;\n      \u0026lt;Results pets={pets} /\u0026gt;\n    \u0026lt;/StaticRouter\u0026gt;\n  );\n  expect(asFragment()).toMatchSnapshot();\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis works, and now you can stick with this, but here\u0026#39;s a problem. If you look at your snapshot, it\u0026#39;s rendering Pet components as well. Now if you modify Pet.jsx (that has its own tests already) your \u003cem\u003eResults.jsx\u003c/em\u003e test is going to fail. This is misleading, nothing is wrong or different with Results.jsx. In a previous version of this class I show you how to accomplish this with react-test-renderer. However the folks at @testing-lib think shallow rendering is more harmful than helpful (I like, 75% agree) so we\u0026#39;ll leave it out. \u003ca href=\"https://frontendmasters.com/courses/intermediate-react-v4/snapshots/\"\u003eClick here\u003c/a\u003e to see me teach this previously. It\u0026#39;s 95% the same, just uses Jest instead of Vitest.\u003c/p\u003e\n\u003cp\u003eUpdate your snapshots by either running \u003ccode\u003enpm run test -- -u\u003c/code\u003e or you can use the watcher to do it with either \u003ccode\u003eu\u003c/code\u003e to update all at once or do \u003ccode\u003ei\u003c/code\u003e one-by-one.\u003c/p\u003e\n\u003cp\u003eYou should commit snapshot files to git.\u003c/p\u003e\n\u003cp\u003eI\u0026#39;ll let it up to you how much you value these tests. I think they have a very limited place in UI testing but it\u0026#39;s pretty low level of help. Frequently they become more noise than help. In any case, keep them in your toolbox, some times they can be helpful.\u003c/p\u003e\n","slug":"snapshots","title":"Snapshots","section":"Testing","icon":"vial","filePath":"/home/runner/work/complete-intro-to-react-v8/complete-intro-to-react-v8/lessons/15-testing/F-snapshots.md","nextSlug":"/lessons/testing/c8","prevSlug":"/lessons/testing/mocks"}},"__N_SSG":true},"page":"/lessons/[section]/[slug]","query":{"section":"testing","slug":"snapshots"},"buildId":"SJYJ5WD9myqUJYg-rx32J","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>